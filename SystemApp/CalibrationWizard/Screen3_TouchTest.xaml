<Window x:Class="KinectCalibrationWPF.CalibrationWizard.Screen3_TouchTest"
         xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
         xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
         Title="Calibration Wizard - Screen 3: Touch Detection Test" Height="700" Width="1000" WindowStartupLocation="CenterScreen" Background="#F5F5F5">
    
    <Window.Resources>
        <!-- Define WizardButtonStyle locally -->
        <Style x:Key="WizardButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#2196F3"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Padding" Value="20,10"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#1976D2"/>
                </Trigger>
                <Trigger Property="IsPressed" Value="True">
                    <Setter Property="Background" Value="#1565C0"/>
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>
	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="*"/>
			<RowDefinition Height="Auto"/>
		</Grid.RowDefinitions>
		<Border Grid.Row="0" Background="#2196F3" Padding="20">
			<StackPanel>
				<TextBlock Text="Calibration Wizard - Screen 3" FontSize="24" FontWeight="Bold" Foreground="White" HorizontalAlignment="Center"/>
				<TextBlock Text="Test the touch detection. A red square will appear on detected objects. Adjust thresholds as needed." FontSize="14" Foreground="#E3F2FD" HorizontalAlignment="Center" Margin="0,5,0,0"/>
			</StackPanel>
		</Border>
		<Grid Grid.Row="1" Margin="20">
			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="2*"/>
				<ColumnDefinition Width="*"/>
			</Grid.ColumnDefinitions>
			<Border Grid.Column="0" Background="White" CornerRadius="8" Margin="0,0,10,0">
				<Grid>
					<Grid.RowDefinitions>
						<RowDefinition Height="*"/>
						<RowDefinition Height="Auto"/>
					</Grid.RowDefinitions>
					<Border Grid.Row="0" Background="#000" Margin="10">
						<Grid>
							<Image x:Name="DepthImage" Stretch="Uniform"/>
							<Canvas x:Name="OverlayCanvas" Background="Transparent"/>
						</Grid>
					</Border>
					<Border Grid.Row="1" Background="#F0F0F0" Padding="10">
						<TextBlock x:Name="StatusText" Text="Ready" HorizontalAlignment="Center" FontSize="12"/>
					</Border>
				</Grid>
			</Border>
			<Border Grid.Column="1" Background="White" CornerRadius="8" Margin="10,0,0,0">
				<StackPanel Margin="20">
					<TextBlock Text="Plane Threshold (m)"/>
					<Slider x:Name="PlaneThresholdSlider" Minimum="0.005" Maximum="0.08" Value="0.03" Width="200"/>
					<Button x:Name="FinishButton" Content="Save &amp; Exit" Style="{StaticResource WizardButtonStyle}" Margin="0,20,0,0" Click="FinishButton_Click"/>
					<Button x:Name="CancelButton" Content="Cancel" Style="{StaticResource WizardButtonStyle}" Margin="0,10,0,0" Background="#F44336" Click="CancelButton_Click"/>
				</StackPanel>
			</Border>
		</Grid>
		<Border Grid.Row="2" Background="#424242" Padding="10">
			<TextBlock Text="Screen 3 of 3: Touch Detection Test" Foreground="White" HorizontalAlignment="Center" FontSize="12"/>
		</Border>
	</Grid>
</Window>
